{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f27ae4c482998ce80260","webpack:///./react-countdown-clock.coffee","webpack:///external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}"],"names":[],"mappings":"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","file":"react-countdown-clock.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCountdownClock\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactCountdownClock\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f27ae4c482998ce80260","React  = require 'react'\n\nmodule.exports = React.createClass\n  _seconds: 0\n  _radius: null\n  _fraction: null\n  _content: null\n  _canvas: null\n  _timeoutIds: []\n\n  displayName: 'ReactCountdownClock'\n\n  propTypes:\n    seconds: React.PropTypes.number\n    size: React.PropTypes.number\n    weight: React.PropTypes.number\n    backgroundColor: React.PropTypes.string\n    color: React.PropTypes.string\n    fontSize: React.PropTypes.string\n    font: React.PropTypes.string\n    fontColor: React.PropTypes.string\n    alpha: React.PropTypes.number\n    timeFormat: React.PropTypes.string\n    onComplete: React.PropTypes.func\n    onClick: React.PropTypes.func\n    showMilliseconds: React.PropTypes.bool\n    paused: React.PropTypes.bool\n    pausedText: React.PropTypes.string\n\n  getDefaultProps: ->\n    seconds: 60\n    size: 300\n    color: '#000'\n    alpha: 1\n    timeFormat: 'hms'\n    fontSize: 'auto'\n    font: 'Arial'\n    showMilliseconds: true\n    paused: false\n\n  componentDidUpdate: (props) ->\n    if props.seconds != @props.seconds\n      @_seconds = props.seconds\n      @_setupTimer()\n\n    if props.color != @props.color\n      @_clearBackground()\n      @_drawBackground()\n      @_updateCanvas()\n\n    if props.paused != @props.paused\n      @_startTimer() if !@props.paused\n      @_pauseTimer() if @props.paused\n\n  componentDidMount: ->\n    @_seconds = @props.seconds\n    @_setupTimer()\n\n  componentWillUnmount: ->\n    @_cancelTimer()\n\n  _setupTimer: ->\n    @_setScale()\n    @_setupCanvases()\n    @_drawBackground()\n    @_drawTimer()\n    @_startTimer() unless @props.paused\n\n  _updateCanvas: ->\n    @_clearTimer()\n    @_drawTimer()\n\n  _setScale: ->\n    @_radius      = @props.size / 2\n    @_fraction    = 2 / @_seconds\n    @_tickPeriod  = @_calculateTick()\n    @_innerRadius =\n      if @props.weight\n        @_radius - @props.weight\n      else\n        @_radius / 1.8\n\n  _calculateTick: ->\n    # Tick period (milleseconds) needs to be fast for smaller time periods and slower\n    # for longer ones. This provides smoother rendering. It should never exceed 1 second.\n    tickScale = 1.8\n    tick = @_seconds * tickScale\n    if tick > 1000 then 1000 else tick\n\n  _setupCanvases: ->\n    @_background = @refs.background.getContext '2d'\n    @_timer = @refs.timer.getContext '2d'\n    @_timer.textAlign = 'center'\n    @_timer.textBaseline = 'middle'\n    if @props.onClick?\n      @refs.component.addEventListener 'click', @props.onClick\n\n  _startTimer: ->\n    # Give it a moment to collect it's thoughts for smoother render\n    @_timeoutIds.push(setTimeout ( => @_tick() ), 200)\n\n  _pauseTimer: ->\n    @_stopTimer()\n    @_updateCanvas()\n\n  _stopTimer: ->\n    for timeout in @_timeoutIds\n      clearTimeout timeout\n\n  _cancelTimer: ->\n    @_stopTimer()\n\n    if @props.onClick?\n      @refs.component.removeEventListener 'click', @props.onClick\n\n  _tick: ->\n    start = Date.now()\n    @_timeoutIds.push(setTimeout ( =>\n      duration = (Date.now() - start) / 1000\n      @_seconds -= duration\n\n      if @_seconds <= 0\n        @_seconds = 0\n        @_handleComplete()\n        @_clearTimer()\n      else\n        @_updateCanvas()\n        @_tick()\n    ), @_tickPeriod)\n\n  _handleComplete: ->\n    if @props.onComplete\n      @props.onComplete()\n\n  _clearBackground: ->\n    @_background.clearRect 0, 0, @refs.timer.width, @refs.timer.height\n\n  _clearTimer: ->\n    @_timer.clearRect 0, 0, @refs.timer.width, @refs.timer.height\n\n  _drawBackground: ->\n    @_background.beginPath()\n    @_background.globalAlpha = @props.alpha / 3\n    @_background.fillStyle = @props.backgroundColor or @props.color\n    @_background.arc @_radius, @_radius,      @_radius,           0, Math.PI * 2, false\n    @_background.arc @_radius, @_radius, @_innerRadius, Math.PI * 2,           0, true\n    @_background.closePath()\n    @_background.fill()\n\n  _formattedTime: ->\n    decimals = (@_seconds <= 9.9 && @props.showMilliseconds) ? 1 : 0\n\n    if @props.timeFormat == 'hms'\n      hours   = parseInt( @_seconds / 3600 ) % 24\n      minutes = parseInt( @_seconds / 60 ) % 60\n      seconds = (@_seconds % 60).toFixed(decimals)\n\n      hours   = \"0#{hours}\" if hours < 10\n      minutes = \"0#{minutes}\" if minutes < 10\n      seconds = \"0#{seconds}\" if seconds < 10 && minutes >= 1\n\n      timeParts = []\n      timeParts.push hours if hours > 0\n      timeParts.push minutes if minutes > 0\n      timeParts.push seconds\n\n      timeParts.join ':'\n    else\n      return @_seconds.toFixed(decimals)\n\n  _fontSize: (timeString) ->\n    if @props.fontSize == 'auto'\n      scale = switch timeString.length\n        when 8 then 4 # hh:mm:ss\n        when 5 then 3 # mm:ss\n        else 2        # ss or ss.s\n      size = @_radius / scale\n      \"#{size}px\"\n    else\n      @props.fontSize\n\n  _drawTimer: ->\n    percent = @_fraction * @_seconds + 1.5\n    formattedTime = @_formattedTime()\n    text = if (@props.paused && @props.pausedText?) then @props.pausedText else formattedTime\n\n    # Timer Text\n    @_timer.fillStyle = @props.fontColor or @props.color\n    @_timer.font = \"bold #{@_fontSize(formattedTime)} #{@props.font}\"\n    @_timer.fillText text, @_radius, @_radius\n    @_timer.fill()\n\n    # Timer\n    @_timer.globalAlpha = @props.alpha\n    @_timer.fillStyle = @props.color\n    @_timer.beginPath()\n    @_timer.arc @_radius, @_radius, @_radius,      Math.PI * 1.5,     Math.PI * percent, false\n    @_timer.arc @_radius, @_radius, @_innerRadius, Math.PI * percent, Math.PI * 1.5,     true\n    @_timer.closePath()\n    @_timer.fill()\n\n  render: ->\n    React.createElement(\"div\", {\"ref\": 'component', \"className\": \"react-countdown-clock\"},\n      React.createElement(\"canvas\", {\"ref\": 'background', \"style\": ( position: 'absolute' ), \"width\": (@props.size), \"height\": (@props.size)}),\n      React.createElement(\"canvas\", {\"ref\": 'timer', \"style\": ( position: 'absolute' ), \"width\": (@props.size), \"height\": (@props.size)})\n    )\n\n\n\n// WEBPACK FOOTER //\n// ../~/cjsx-loader!./react-countdown-clock.coffee","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}